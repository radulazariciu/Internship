//>>built
require({cache:{"url:epi-ecf-ui/contentediting/editors/templates/CommerceMediaEditor.html":"<div class=\"dijitInline\" style=\"width: 100%;\">    \r\n    <div data-dojo-attach-point=\"commandTargetNode\"></div>\r\n    <div data-dojo-attach-point=\"overlayDnd\">\r\n        <div data-dojo-attach-point=\"gridNode\"></div>\r\n    </div>\r\n    <div data-dojo-attach-point=\"dropContainer\" class=\"epi-content-area-actionscontainer\"></div>\r\n</div>\r\n"}});define("epi-ecf-ui/contentediting/editors/CommerceMediaCollectionEditor",["dojo/_base/declare","dojo/_base/lang","dojo/aspect","dojo/dom-class","dojo/dom-style","dojo/topic","epi/shell/widget/_FocusableMixin","epi/shell/dnd/Target","epi-cms/contentediting/editors/CollectionEditor","epi-cms/contentediting/editors/_TextWithActionLinksMixin","epi-ecf-ui/contentediting/editors/model/CommerceMediaCollectionEditorModel","epi-ecf-ui/component/CommerceMediaItemModel","dojo/text!./templates/CommerceMediaEditor.html","epi/i18n!epi/cms/nls/commerce.contentediting.editors.commercemediacollectioneditor"],function(_1,_2,_3,_4,_5,_6,_7,_8,_9,_a,_b,_c,_d,_e){return _1([_9,_a,_7],{_dndTarget:null,templateString:_d,resources:_e,gridOverlayClass:"epi-grid-dnd-overlay",_noDataMessage:"<span><span class=\"dijitReset dijitInline\">"+_e.nodatamessage+"</span></span>",itemModelType:_c,modelType:_b,dialogParams:{autofocus:false},_setupGrid:function(){this.inherited(arguments);_4.add(this.gridNode,"epi-plain-grid--margin-bottom epi-plain-grid--cell-borders");this._settingReadOnlyState();},postCreate:function(){this.inherited(arguments);this._dndTarget=new _8(this.dropContainer,{accept:this.allowedDndTypes,insertNodes:function(){}});this.own(_3.after(this._dndTarget,"onDropData",_2.hitch(this,this.onDndDrop),true));_4.add(this.domNode,"epi-media-collection");this.setupActionLinks(this.dropContainer);},_settingReadOnlyState:function(){if(this.readOnly){_5.set(this.dropContainer,"display","none");_4.remove(this.overlayDnd,this.gridOverlayClass);this.grid.set("selectionMode","none");this.allowedDndTypes=[];this.gridSettings.dndDisabled=true;this.model.availableCommands=0;}},_getDialogTitleText:function(_f){return !_f?_e.addlabel:_e.editlabel;},getTemplateString:function(){return {templateString:this.resources.drophere,actions:this.resources.actions};},executeAction:function(_10){_6.publish("/epi/layout/pinnable/tools/toggle",true);},_getGridDefinition:function(){var _11=this.generateColumns?this.model.generateColumnsDefinition(this.excludedColumns):this.includedColumns||{};if(this.readOnly){for(var _12 in _11){_2.setObject("sortable",false,_11[_12]);}}return this.model.generateFormatters(_11);},_setupDnD:function(){this.inherited(arguments);var _13=this.grid.dndSource;this.own(_3.after(_13,"onDndStart",_2.hitch(this,function(_14,_15,_16){var _17=_13.accept&&_13.checkAcceptance(_14,_15);_4[_17?"add":"remove"](this.overlayDnd,this.gridOverlayClass);}),true));}});});