//>>built
require({cache:{"url:epi-ecf-ui/contentediting/editors/templates/DateTimeRangeSelector.html":"<div class=\"epi-dateTimeRangeSelector\">\r\n    <div data-dojo-type=\"epi/shell/widget/DateTimeSelectorDropDown\" data-dojo-attach-point=\"fromDateSelector\" data-dojo-props=\"required:true\" data-dojo-attach-event=\"onKeyDown: _handleKey\"></div>\r\n    <div data-dojo-type=\"epi/shell/widget/DateTimeSelectorDropDown\" data-dojo-attach-point=\"toDateSelector\" data-dojo-attach-event=\"onKeyDown: _handleKey\"></div>\r\n</div>\r\n"}});define("epi-ecf-ui/contentediting/editors/DateTimeRangeSelector",["dojo/_base/declare","dojo/_base/lang","dojo/keys","dijit/_Widget","dijit/_TemplatedMixin","dijit/_WidgetsInTemplateMixin","dijit/Tooltip","dijit/focus","epi/epi","epi/datetime","epi/shell/widget/DateTimeSelectorDropDown","dojo/text!./templates/DateTimeRangeSelector.html","epi/i18n!epi/cms/nls/commerce.contentediting.editors.datetimerangeselector"],function(_1,_2,_3,_4,_5,_6,_7,_8,_9,_a,_b,_c,_d){return _1([_4,_5,_6],{templateString:_c,resources:_d,_fromDateWatchHandle:null,_toDateWatchHandle:null,value:null,constraints:{min:"1753-01-01"},postCreate:function(){this.inherited(arguments);this.fromDateSelector.set("constraints",this.constraints);this.toDateSelector.set("constraints",this.constraints);this.toDateSelector.isValid=_2.hitch(this,this.isValid);},isValid:function(){var _e=this.fromDateSelector.get("value");var _f=this.toDateSelector.get("value")||this.toDateSelector.displayedValue;this.toDateSelector.invalidMessage=this.toDateSelector.messages.invalidMessage;if(!this.fromDateSelector.isInRange()||(_f&&!this.toDateSelector.isInRange())){return false;}if(!_f){return true;}if(_f instanceof Date){if(_f>_e){return true;}else{this.toDateSelector.invalidMessage=_d.validationmessage;return false;}}return false;},_setValueAttr:function(_10){this._set("value",_10);this.fromDateSelector.set("value",_10.validFrom);this.toDateSelector.set("value",_10.validUntil);},_getValueAttr:function(){var _11=this.value;var _12={validFrom:_a.transformDate(this.fromDateSelector.get("value")),validUntil:_a.transformDate(this.toDateSelector.get("value"))};if(_9.areEqual(_12,_11)){return _11;}else{return _12;}},_handleKey:function(e){if(e.keyCode==_3.ENTER){e.preventDefault();_8.curNode.blur();}},focus:function(){this.fromDateSelector.focus();}});});