//>>built
define("epi-ecf-ui/widget/viewmodel/PricingOverviewModel",["dojo/_base/declare","dojo/_base/lang","dojo/when","dojo/Stateful","epi/dependency","epi/datetime","epi/shell/_StatefulGetterSetterMixin"],function(_1,_2,_3,_4,_5,_6,_7){return _1([_4,_7],{_customerGroupStore:null,_contentStructureStore:null,content:null,postscript:function(){this.inherited(arguments);var _8=_5.resolve("epi.storeregistry");this._customerGroupStore=this._customerGroupStore||_8.get("epi.commerce.customergroup");this._contentStructureStore=this._contentStructureStore||_8.get("epi.cms.content.light");},populateData:function(){_3(this._customerGroupStore.query(),_2.hitch(this,function(_9){this.set("customerGroups",_9);}));},_setValueAttr:function(_a){this._set("value",_a);_3(this._contentStructureStore.get(_a),_2.hitch(this,function(_b){this.set("content",_b);}));},getDefaultPrice:function(_c,_d){if(!this.content){return null;}var _e=new Date();var _f=0;var _10=2;return {contentLink:this.content.contentLink,name:this.content.name,code:this.content.properties.code,marketId:_c,priceType:_d?_10:_f,priceCode:_d||"",unitPrice:null,minQuantity:0,validDate:{validFrom:_6.serialize(_e),validUntil:_6.serialize(_e)}};}});});